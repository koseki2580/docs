---
title: 関係モデル
sidebar_label: 関係モデル
draft: true
toc_max_heading_level: 4
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FontColor from "/src/components/Custom/FontColor/FontColor.js"
```

## 関係モデルの考え方

関係モデルはデータもデータ間の関連も全てリレーション(関係)とタプル(行・組)で表現することが基本である。

### リレーション

リレーションには様々な集合を表す`ドメイン(定義域)`という概念がある。

例えば、

製品 {製品 A, 製品 B}

原料 {原料 a, 原料 b}

では、製品 A・製品 B のことを`属性値`と呼び、この属性値が取ることのできる範囲をドメインと言う。(製品 C,製品 D 等)

上記の製品と原料で直積を取ると以下のようになる。

(製品 A, 原料 a)

(製品 A, 原料 b)

(製品 B, 原料 a)

(製品 B, 原料 b)

これら 1 つ 1 つのことを`タプル(行, 組)`と呼び、必要なタプルだけを取り出した直積の部分集合のことを`リレーション(関係)`と呼ぶ。
また、リレーションを表形式で表したものをリレーション(関係表)と言うこともある。

列のことを`属性`と呼び、属性の 1 つ 1 つの値を属性値という。

関係表はタプルの集合であり、時間とともに変化するが、時間に対して不変であり、関係表の枠組みとして定義されたものを`関係スキーマ`と呼ぶ。

![イメージ図](/img/svg/Database/relational-data-model/relational-data-model-1.drawio.svg "リレーション(関係表)")

### 関係表の詳細

関係表のタプルを一意に識別できる、必要最小限の属性(`極小`)で構成される属性名の集合のことを`候補キー`と言う。

上記の図を例にすると、`製品番号`・`製品名`・`{製品番号・製品名}`のどれかが分かればタプルが識別できる。
しかし、最小構成でない`{製品番号・製品名}`は候補キーとは呼ばず、`製品番号`・`製品名`の 2 つを候補キーと呼ぶ。

構成する属性の値に空値(NULL)を取らない候補キーの中から 1 つ選択したキーのことを`主キー`と呼ぶ。
主キーには次の 2 つの制約を持つ

- 一意性制約 : 主キーが同じ値のタプルが存在しない
- 非ナル制約 : 主キーに NULL を含むタプルが存在しない

複数の属性で構成されている主キーのことを`複合キー`と言う。

主キーは関係スキーマでは下線をつけて表現する。

![イメージ図](/img/svg/Database/relational-data-model/relational-data-model-2.drawio.svg "主キー")
