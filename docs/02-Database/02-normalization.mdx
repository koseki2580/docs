---
title: 正規化
sidebar_label: 正規化
draft: true
toc_max_heading_level: 4
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FontColor from "/src/components/Custom/FontColor/FontColor.js"
```

## 正規化とは

正規化は関係表においてタプルの`挿入`, `更新`, `削除`の操作を行った時におこる異常(`更新時異常`)を排除することをいう。
また、正規化を行うことで、1 つの場所に 1 つのデータが実現できる。

正規化を行うとテーブルを分離するため、欲しい・見たい表を作成するのに結合操作が必要になってくる。そのため、結合処理が入る分処理が遅くなり性能が下がることがある。

- 更新を行わない
- 高速化が必要

などの場面ではあえて正規化しない場合もある。

正規化には種類があり、

1. 第 1 正規形
2. 第 2 正規形
3. 第 3 正規形
4. ボイスコット正規形・第 4 正規形・第 5 正規形

が存在する。正規化は上から順に行っていく。
分解した関係表を自然結合した時に元に戻すことができる分解の仕方を`情報無損失分解`という。
第 3 正規形までであれば、情報無損失分解である。

### 第 1 正規形

非正規形の関係表から`繰り返し`を排除することを`第1正規形`と呼ぶ。

![イメージ図](/img/svg/Database/normalization/normalization-1.drawio.svg "非正規形→正規形")

### 第 2 正規形

第 1 正規形の条件を満たし、全ての主キー以外の非キー属性が主キーに完全関数従属する関係表(部分関係従属を取り除く)を`第2正規形`と呼ぶ。

![イメージ図](/img/svg/Database/normalization/normalization-2.drawio.svg "第1正規形 → 第2正規形")

#### 完全関数従属

`X`が決まると`Y`が決まるような関係を`関数従属`と呼び、`X → Y`のように表す。
この時の`X`を`決定項`と呼び、`Y`を`従属項`と呼ぶ。

関係従属 X → Y において、X の全ての真部分集合 X'において X' → Y が成立しない時を`完全関数従属`という。

##### 真部分集合

集合 X の全ての部分集合のうち、全体集合を取り除いた集合を`真部分集合`という。

![イメージ図](/img/svg/Database/normalization/normalization-3.drawio.svg "真部分集合")

#### 部分関係従属

真部分集合においても関係従属が存在する場合を`部分関係従属`という。

例えば、X が決定すると Y が決まる関係(X → Y)の時 X,Z が決定すると Y が決まる関係(X,Z → Y)であるとも言える。

### 第 3 正規形

第 2 正規形の条件を満たし、全ての非キー属性が主キーに対して推移的関係従属していない関係表を`第3正規形`と呼ぶ。

![イメージ図](/img/svg/Database/normalization/normalization-4.drawio.svg "第2正規形 → 第3正規形")
